---
- name: Chaos Monkey
  hosts: all
  sources:
    - ansible.eda.range:
        limit: 5
  rules:
    - name: "output a message to file /tmp/outme.log"
      condition: True
      action:
        run_module:
          name: ansible.builtin.shell
          module_args:
            cmd: 'echo "hello world" > /tmp/outme.log'

    - name: "output a message to file /tmp/outme.log"
      condition: True
      action:
        run_module:
          name: ansible.builtin.shell
          module_args:
            cmd: 'cat /tmp/outme.log'

    - name: "read from outputted file"
      condition: True
      action:
        debug:
          msg: "How would I do that?"
